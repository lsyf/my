<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.loushuiyifan.report.dao.RptImportCutDataDAO">

    <update id="updataCutFlag"
            parameterType="com.loushuiyifan.report.bean.RptImportDataCut">
		update charge.dim_cut_cfg a
		set a.is_active = #{activeFlag},
		a.lst_upd =sysdate,a.chg_who=#{userName}
		where a.latn_id=#{latnId}
		and a.share_type=#{shareType}
		and a.income_source=#{incomeSource}
		<!-- <if test='flag !="1"'>
		 and a.chg_who=#{userName}
		</if>
		 -->
	</update>

    <select id="checkCut" resultType="java.lang.String">
		select a.chg_who
		from charge.dim_cut_cfg a
		where a.latn_id=#{latnId}
		 and a.share_type=#{shareType} 
		 and a.income_source=#{incomeSource} 
		 and a.chg_who=#{userName}
	
	</select>
	
	<select id="selectRoleById" resultType="String">
	select b.role_id from aweb_user a,aweb_user_role b where a.id =b.user_id and a.id =#{userId}
	
	</select>
</mapper>